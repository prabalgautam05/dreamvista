<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DreamVista - AI Dream Interpretation</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">

    <div class="container mt-5">
        <h1 class="text-center text-primary" style="color: orange; text-shadow: 0 0 5px orange, 0 0 10px orange, 0 0 20px orange, 0 0 30px orange, 0 0 40px orange;">ðŸŒ™ DreamVista - AI Dream Interpretation ðŸ”®</h1>

        <div class="card shadow-lg p-4 mt-4">
            <form method="POST">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="dream_text" class="form-label">Describe your dream:</label>
                    <textarea name="dream_text" id="dream_text" class="form-control" rows="4" required placeholder="Type your dream here..."></textarea>
                </div>
                <button type="submit" class="btn btn-primary w-100">Analyze Dream</button>
            </form>
        </div>

        {% if error %}
            <div class="alert alert-danger mt-4 text-center">
                {{ error }}
            </div>
        {% endif %}

        {% if interpretation %}
            <div class="row mt-4">
                <!-- Left Column -->
                <div class="col-md-6">
                    
                    <!-- Dream Text Card -->
                    <div class="card shadow p-3 mb-3">
                        <h4 class="text-dark">ðŸŒ™ Your Dream</h4>
                        <p class="text-muted">{{ dream_text }}</p>
                    </div>

                    <!-- Sentiment Analysis Card -->
                    <div class="card shadow p-3 mb-3">
                        <h4 class="text-dark">ðŸ“Š Sentiment Analysis</h4>
                        <div class="progress">
                            <div class="progress-bar 
                                {% if sentiment == 'Positive ðŸ˜Š' %}
                                    bg-success
                                {% elif sentiment == 'Negative ðŸ˜Ÿ' %}
                                    bg-danger
                                {% else %}
                                    bg-secondary
                                {% endif %}" 
                                role="progressbar" 
                                style="width: {{ sentiment_score }}%;">
                            </div>
                        </div>
                        <p class="mt-2"><strong>Sentiment:</strong> {{ sentiment }}</p>
                    </div>

                    <!-- Dream Category Card -->
                    <div class="card shadow p-3">
                        <h4 class="text-dark">ðŸ“‚ Dream Category</h4>
                        <p>
                            <span class="badge 
                                {% if category == 'Nightmare ðŸ˜±' %}
                                    bg-dark
                                {% elif category == 'Lucid Dream âœ¨' %}
                                    bg-primary
                                {% elif category == 'Symbolic Dream ðŸ”®' %}
                                    bg-warning
                                {% else %}
                                    bg-secondary
                                {% endif %}">
                                {{ category }}
                            </span>
                        </p>
                    </div>
                </div>

                <!-- Right Column -->
                <div class="col-md-6">
                    <!-- AI Interpretation Card -->
                    <div class="card shadow p-3">
                        <h4 class="text-dark">ðŸ¤– AI Interpretation</h4>
                        <div class="text-info">
                            {{ interpretation | safe }} <!-- Allows HTML rendering -->
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
